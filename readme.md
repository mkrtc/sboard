# ะขะตััะพะฒะพะต ะทะฐะดะฐะฝะธะต ะดะปั ัะฐะทัะฐะฑะพััะธะบะฐ: Full-stack ะฟัะธะปะพะถะตะฝะธะต ั Event Sourcing ะธ ะธััะพัะธะตะน ะฒะตััะธะน ะดะปั [Sboard](https://sboard.online/)

**ะะตะผะพะฝัััะฐัะธั ัะฐะฑะพัั ะผะพะถะฝะพ ะฟะพัะผะพััะตัั [ะทะดะตัั](https://sboard-ivory.vercel.app)**

## ะัััััะน ััะฐัั

- ะฃััะฐะฝะพะฒะธัั ะฟัะธะปะพะถะตะฝะธะต
    ```bash
    git clone https://github.com/mkrtc/sboard.git
    ```
- ะะตัะตะนัะธ ะฒ ะฟะฐะฟะบั ั ะฟัะธะปะพะถะตะฝะธะตะผ
    ```bash
    cd ./sboard
    ```
- ะกะพะฑัะฐัั docker compose ะธ ะทะฐะฟัััะธัั
  ```bash
  # ~2-4 ะผะธะฝ
  sudo docker compose up --build
  ```
- ะัะบัััั `localhost:3000`

## ะะณะปะฐะฒะปะตะฝะธั
- [ะัะฐัะบะพะต ะพะฟะธัะฐะฝะธะต ะขะ](#ะบัะฐัะบะพะต-ะพะฟะธัะฐะฝะธะต-ัะท-ะฟะพะดัะพะฑะฝะตะต-ะผะพะถะตัะต-ะฟะพัะผะพััะตัั-ะทะดะตัั)
- [Frontend](#frontend)
- [Backend](#backend)
- [ะะพะฟะพะปะฝะธัะตะปัะฝัะต ะทะฐะดะฐัะธ](#ะดะพะฟะพะปะฝะธัะตะปัะฝัะต-ััะตะฑะพะฒะฐะฝะธั)
  
## ะัะฐัะบะพะต ะพะฟะธัะฐะฝะธะต ะขะ. ะะพะดัะพะฑะฝะตะต ะผะพะถะตัะต ะฟะพัะผะพััะตัั [ะทะดะตัั](https://github.com/mkrtc/sboard/blob/master/task.pdf)

- ***ะะฐะดะฐัะฐ:***
  >ะะฐะฟะธัะธัะต full-stack ะฟัะธะปะพะถะตะฝะธะต ะฝะฐ TypeScript, ัะพััะพััะตะต ะธะท frontend ะธ backend-ัะฐััะตะน. 
  ะัะธะปะพะถะตะฝะธะต ะดะพะปะถะฝะพ ะดะตะผะพะฝัััะธัะพะฒะฐัั ัะฐะฑะพัั ะฐััะธัะตะบัััะฝะพะณะพ ะฟะพะดัะพะดะฐ Event Sourcing ะธ 
  ะฟัะตะดะพััะฐะฒะปััั ััะฝะบัะธะพะฝะฐะปัะฝะพััั ะธััะพัะธะธ ะฒะตััะธะน ะฝะฐ ะตะณะพ ะพัะฝะพะฒะต.

ะญัะฐะฟั ะธ ัะตะฐะปะธะทะฐัะธั:
### Frontend
`path: /sboard/client`
#### ะะฝัะตััะตะนั
- [X] **- ะัะฟะพะปัะทัะนัะต canvas ะดะปั ะพััะธัะพะฒะบะธ ะณัะฐัะธัะตัะบะธั ะพะฑัะตะบัะพะฒ.**
  
    >*ะ ัะฐะทัะฐะฑะพัะบะต ะฑัะปะพ ะฟัะธะฝััะพ ัะตัะตะฝะธะต ะธัะฟะพะปัะทะพะฒะฐัั ะดะตัะพะปัะฝัะน Canvas API, ะฟะพัะบะพะปัะบั ะฑะธะฑะปะธะพัะตะบะธ ะฟะพ ัะธะฟั **[KonovaJS](https://konvajs.org/)** ะฝะต ัะผะพััั ะฝะฐ ัะฒะพะต ัะดะพะฑััะฒะพ ะทะฝะฐัะธัะตะปัะฝะพ ะพะฑะปะตะณัะฐัั ัะฐะฑะพัั, ะฐ ะฒ ะดะฐะฝะฝะพะผ ัะปััะฐะต ั ัะพัะตะป ะฟะพะบะฐะทะฐัั ัะฒะพะต ัะผะตะฝะธะต ัะฐะฑะพัะฐัั ะธะผะตะฝะฝะพ ั ะฒะฐะฝะธะปัะฝัะผ Canvas API*
- [X] **- ะะธะฝะธะผะฐะปัะฝะฐั ะณัะฐัะธะบะฐ โ ะบะฒะฐะดัะฐัั, ะบะพัะพััะต ะผะพะถะฝะพ ะฟะตัะตัะฐัะบะธะฒะฐัั ะผััะบะพะน.**
  
  >*ะัะต ัะตะฐะปะธะทะพะฒะฐะฝะพ ะฟะพ ะขะ. ะะพะฝััะพะผ ัะฐะบ ะถะต ัะตะฐะปะธะทะพะฒะฐะฝะฐ ะฒะพะทะผะพะถะฝะพััั ะดะพะฑะฐะฒะปะตะฝะธะต ะบะฒะฐะดัะฐัะพะฒ ะธ ะพัะธััะบะธ ัะพะปััะฐ*

- [X] **- ะกะฟัะฐะฒะฐ ะพั canvas ัะฐัะฟะพะปะพะถะธัั ะฟะฐะฝะตะปั ั ะธััะพัะธะตะน ะฒะตััะธะน:** 
  - [X] ะะฐะถะดะฐั ะฒะตััะธั ัะพะดะตัะถะธั ะผะตัะบั ะฒัะตะผะตะฝะธ. 
  - [X] ะะตััะธะธ ะพัะพะฑัะฐะถะฐัััั ะฒ ะฒะธะดะต ะบะปะธะบะฐะฑะตะปัะฝัั ัะปะตะผะตะฝัะพะฒ ัะฟะธัะบะฐ. 
  - [X] ะัะธ ะฒัะฑะพัะต ะฒะตััะธะธ ะพัะพะฑัะฐะถะตะฝะธะต ะฝะฐ canvas ะดะพะปะถะฝะพ ัะพะพัะฒะตัััะฒะพะฒะฐัั ัะพััะพัะฝะธั ะฝะฐ ัะพั ะผะพะผะตะฝั.
  
  >*ะัะต ัะตะฒะธะทะพะฒะฐะฝะพ ะฟะพ ะขะ. ะะพะฝััะพะผ ัะฐะบ ะถะต ัะตะฒะธะทะพะฒะฐะฝะฐ ะฒะพะทะผะพะถะฝะพััั ะฟัะพะดะพะปะถะตะฝะธั ัะพะฑััะธั ะฟัะธ ะพัะบะฐัะต. ะข.ะต. ะตัะปะธ ะฒั ะพัะบะฐัะธะปะธัั ะฝะฐ 3 ัะพะฑััะธะน ะฝะฐะทะฐะด, ัะพ ัะผะพะถะตัะต ะฟัะพะดะพะปะถะธัั ะธะผะตะฝะฝะพ ั ััะพะณะพ ัะพะฑััะธั. ะะพะฒัะต ัะพะฑััะธั(ะฟะพัะปะต ะพัะบะฐัะฐ) ัะฐะบ ะถะบ ะฑัะดัั ะทะฐะฟะธัะฐะฝั*

#### ะคัะฝะบัะธะพะฝะฐะปัะฝะพััั
- [X] **- ะัะธ ะทะฐะฒะตััะตะฝะธะธ ะดะตะนััะฒะธั ะฟะพะปัะทะพะฒะฐัะตะปั (ะฝะฐะฟัะธะผะตั, ะพัะฟััะบะฐะฝะธะธ ะผััะบะธ ะฟะพัะปะต 
ะฟะตัะตะผะตัะตะฝะธั ะบะฒะฐะดัะฐัะฐ), ะพัะฟัะฐะฒะปัะนัะต ัะพะฑััะธะต ะฝะฐ ัะตัะฒะตั ัะตัะตะท WebSocket.**
- [X] **- ะะพัะปะต ะฟะพะปััะตะฝะธั ะฟะพะดัะฒะตัะถะดะตะฝะธั ะพั ัะตัะฒะตัะฐ ะพะฑะฝะพะฒะปัะนัะต ัะฟะธัะพะบ ะฒะตััะธะน**

#### ะะณัะฐะฝะธัะตะฝะธั
- [X] **- ะัะฟะพะปัะทะพะฒะฐะฝะธะต React โ `ะฝะตะพะฑัะทะฐัะตะปัะฝะพ`.**
  
  >ะ ัะฐะทัะฐะฑะพัะบะต ะฑัะป ะธัะฟะพะปัะทะพะฒะฐะฝ ััะตะนะผะฒะพัะบ **[nextjs](https://nextjs.org/)** 
- [X] **- ะัะฟะพะปัะทะพะฒะฐะฝะธะต Canvas API (ะธะปะธ ะพะฑัััะพะบ) โ `ะพะฑัะทะฐัะตะปัะฝะพ`.**
    >ะ ัะฐะทัะฐะฑะพัะบะต ะฑัะป ะธัะฟะพะปัะทะพะฒะฐะฝ ะดะตัะพะปัะฝัะน Canvas API. ะะพะดัะพะฑะฝะตะต ะพะฑัััะฝะธะป [ะทะดะตัั](#frontend)

### Backend

`path /sboard/server`

#### ะััะธัะตะบัััะฐ
- [X] **- ะะตะฐะปะธะทะพะฒะฐัั ะฝะฐ NestJS.**
- [X] **- ะะฑะตัะฟะตัะธัั ัะฐะฑะพัั ัะตัะตะท WebSocket.**
  >ะะตะฑัะพะบะตัั ัะฐะฑะพัะฐัั ั ะฟะพะผะพัั ะฑะธะฑะปะธะพัะตะบ **@nestjs/websockets** ะธ **@nestjs/platform-socket.io**. ะะพะดัะพะฑะฝะตะต [ะทะดะตัั](https://docs.nestjs.com/websockets/gateways).
- [X] **- ะัะฟะพะปัะทะพะฒะฐัั PostgreSQL ะดะปั ััะฐะฝะตะฝะธั ะดะฐะฝะฝัั.**

#### ะคัะฝะบัะธะพะฝะฐะปัะฝะพััั
- [X] **- ะะพะปััะตะฝะธะต ะฟะพะปะฝะพะณะพ ัะพััะพัะฝะธั (ะฝะฐ ะพัะฝะพะฒะต ะฒัะตั ะธะฒะตะฝัะพะฒ).**
- [X] **- ะะพะปััะตะฝะธะต ัะพััะพัะฝะธั ะดะพ ะพะฟัะตะดะตะปัะฝะฝะพะณะพ ัะพะฑััะธั (ะฝะฐะฟัะธะผะตั, ะฟะพ ID ะธะปะธ ะดะฐัะต).**
  >ะะพะปััะตะฝะธะต ัะพััะพัะฝะธั ัะฐะฑะพัะฐะตั ะฟะพ ID 
- [X] **- ะะพะปััะตะฝะธะต ัะฟะธัะบะฐ ะฒัะตั ะฒะตััะธะน (ัะพะฑััะธะน).**
  >ะะพัััะฟะฝะพ ะฟะพ ัะฝะดะฟะพะธะฝัั: `[GET] /canvas-events`
- [X] **- ะัะธ ะฟะพะปััะตะฝะธะธ ัะพะฑััะธั ะพั ััะพะฝัะฐ ัะพััะฐะฝััั ัะพะฑััะธะต ะฒ ะฑะฐะทะต ะดะฐะฝะฝัั**
  
#### ะขะธะฟั ัะพะฑััะธะน (ะฟัะธะผะตัะฝัะต):
ะะพัะบะพะปัะบั ัะธะฟ ัะฒะปัะปะธัั ะฟัะธะผะตัะฐะผะธ, ะฟัะธัะปะพัั ะฝะตะผะฝะพะณะพ ะธะทะผะตะฝะธ/ะดะพะฑะฐะฒะธัั ะฒ ัะณะพะดั ะผะฐัััะฐะฑะธััะตะผะพััะธ.

*ะงัะพ ะธะทะผะตะฝะธะปะพัั/ะดะพะฑะฐะฒะธะปะพัั:*
- **SquareCreated - CreateFigure** 
  >ะะฐะทะฒะฐะฝะธะต **figure** ะฟะพะดัะพะดะธั ะฑะพะปััะต, ะฟะพัะบะพะปัะบั ะตัะปะธ ะฝัะถะฝะพ ะฑัะดะตั ะฒ ะฑัะดััะตะผ ะดะพะฑะฐะฒะปััั ะฝะพะฒัะต ัะธะณััั, ัะพ ะฝะต ะฟัะธะดะตััั ะดะปั ััะพะณะพ ัะพะทะดะฐะฒะฐัั ะฝะพะฒัะต ัะพะฑััะธั ะฟะพ ัะธะฟั: **CircleCreated** ะธะปะธ **TriangleCreated**.
- **SquareMoved - MoveFigure**
- **SquareDeleted - DeleteFigure**

ะะพะฒัะต ัะพะฑััะธั:
- **GetEvent** - ะะพะปััะธัั ะพะฟัะตะดะตะปะตะฝะฝะพะต ัะพะฑััะธะต. ะกะพะฑััะธะต ะฝะต ะฒะพะทะฒัะฐัะฐะตั ัะพะฑััะธะต ะฐ ะฒะพะทะฒัะฐัะฐะตั(ัะพัะฝะตะต ัะผะธัะธั ะฝะฐ `update_canvas`) ัะพััะพัะฝะธั ะดะพ/ะฒะบะปััะธัะตะปัะฝะพ ััะพะณะพ ัะพะฑััะธั.
- **GetLastEvent** - ะญะผะธัะธั ะฟะพัะปะตะดะฝะตะต ะฐะบััะฐะปัะฝะพะต ัะพััะพัะฝะธะต ะฝะฐ `update_canvas`.
- **ClearCanvas** - ะัะธัะฐะตั ะบะฐะฝะฒะฐั.
  >ะะะะะ!!! ะกะพะฑััะธะต ะฝะต ัะดะฐะปัะตั ะฟัะตะดัะดััะตะต ัะพะฑััะธั, ะฐ ะธะผะตะฝะฝะพ ะดะพะฑะฐะฒะปัะตั ะฝะพะฒะพะต ัะพะฑััะธะต. ะัะปะธ ะฟัะธ ะฒะพัััะฐะฝะพะฒะปะตะฝะธะธ ะผะตัะพะด `.replaySnapshot()` ะะพัะพะดะธั ะดะพ ะธะฒะตะฝัะฐ `clear_canvas` ัะพ ะฟัะพััะพ ะพัะธัะฐะตั ะผะฐััะธะฒ.
- **UpdateCanvas** - (ะะปั ะบะปะธะตะฝัะฐ) ะะพะดะฟะธัะบะฐ ะฝะฐ ะพะฑะฝะพะฒะปะตะฝะธะต ะบะฐะฝะฒะฐัะฐ.

#### ะขัะตะฑะพะฒะฐะฝะธั ะบ ััะฐะฝะธะปะธัั
- [X] **- ะกะพะฑััะธั ะดะพะปะถะฝั ััะฐะฝะธัััั ะพัะดะตะปัะฝะพ (event store).** 
  >ะัะต ัะพะฑััะธั ััะฐะฝัััั ะฒ ะฑะฐะทะต ะดะฐะฝะฝัั ะฒ ะฒะธะดะต ะพัะดะตะปัะฝัั ัััะฝะพััะตะน. ะขะฐะฑะปะธัะฐ: `events`
- [X] **- ะกะพััะพัะฝะธะต ะดะพะปะถะฝะพ ะฒััะธัะปััััั on-the-fly, ะฟัะธ ะทะฐะฟัะพัะต, ะฐ ะฝะต ะบััะธัะพะฒะฐัััั ะฒ ะฑะฐะทะต.** 
  >ะกะพััะพัะฝะธะต ะฒััะธััะฒะฐะตััั ะฝะฐ ะพัะฝะพะฒะต ะธะฒะตะฝัะพะฒ ะธ ะฑะปะธะถะฐะนัะตะณะพ ัะฝะฐะฟัะพัะฐ. ะะตัะพะด ะดะปั ะฒะพัััะฐะฝะพะฒะปะตะฝะธั ัะพะฑััะธั: `.replaySnapshot()`
- [X] **- ะัะดะตะปัะฝะพ ััะฐะฝะธัั ัะฝะธะผะบะธ, ะฝะฐะฟัะธะผะตั ะบะฐะถะดัะน 10-ัะน ะธะฒะตะฝั. ะัะฟะพะปัะทะพะฒะฐัั ะธั, ะดะปั ะฑะพะปะตะต ะฑััััะพะณะพ ะฒะพัััะฐะฝะพะฒะปะตะฝะธั ัะพััะพัะฝะธั (ะพะฟัะธะพะฝะฐะปัะฝะพ)**
  >ะะฐ ะบะฐะถะดัะน 10ะน ะธะฒะตะฝั ัะพะทะดะฐะตััั ะฝะพะฒัะน ัะฝะฐะฟัะพั ะบะพัะพััะน ั ะฟะพะดะพััั ะผะตัะพะดะฐ `.replaySnapshot()` ะฒะพัััะฐะฝะฐะฒะปะธะฒะฐะตั ัะพััะพัะฝะธั ะดะพ ัะตะบััะตะณะพ ะธะฒะตะฝัะฐ ะฒะบะปััะธัะตะปัะฝะพ ะธ ัะพััะฐะฝัะตั ะฒ ะบะพะปะพะฝะบะต `state`. ัะฐะบ ะถะต ะฝะพะฒัะน ัะฝะฐะฟัะพั ัะพะทะดะฐะตััั ะตัะปะธ ะฟะพะปัะทะพะฒะฐัะตะปั ัะตัะธะป ััะพ ัะพัะตั ะพัะบะฐัะธััั ะฝะฐ n ัะพะฑััะธะน ะฝะฐะทะฐะด ะธ ะฟัะพะดะพะปะถะธัั ะพัััะดะฐ. ะขะฐะฑะปะธัะฐ: `canvas-snapshots`

### ะะพะฟะพะปะฝะธัะตะปัะฝัะต ััะตะฑะพะฒะฐะฝะธั
- [X] **- ะะตะฐะปะธะทะฐัะธั ะบะพะดะฐ ะฝะฐ TypeScript ะฝะฐ ะฒัะตั ััะพะฒะฝัั.** 
- [X] **- ะฅะพัะพัะฐั ะฐััะธัะตะบัััะฝะฐั ะพัะณะฐะฝะธะทะฐัะธั ะบะพะดะฐ (ะผะพะดัะปะธ, ัะปะพะธ).**
  >ะััะธัะตะบัััะฐ ะฑัะบะตะฝะดะฐ ะพัะฝะพะฒะฐะฝ ะฝะฐ ะผะพะดัะปัะฝะพะน ะฐััะธัะตะบัััั ะฝะฐ ะบะพัะพัะพะผ ะฟะพัััะพะตะฝ **[nestjs](https://nestjs.com/)**. ะะฝะฐ ะธ ัะฐะบ ัะดะพะฑะฝะฐั, ะฝะต ะฒะธะถั ัะผััะปะฐ ะตะณะพ ะผะตะฝััั.
  >
  >ะะพะดัะพะฑะฝะตะต ะฟัะพ ะฐััะธัะตะบัััั ััะพะฝััะฝะดะฐ ะผะพะถะตัะต ะฟะพัะธัะฐัั [ะทะดะตัั](#ะฐััะธัะตะบัััะฐ-frontend)
- [X] **- ะัะธะฒะตัััะฒัะตััั ะฟะพะบัััะธะต ะพัะฝะพะฒะฝะพะณะพ ะฑะธะทะฝะตั-ะฐะปะณะพัะธัะผะฐ (event reducer) ัะตััะฐะผะธ.**
  >ะัะต ะฑัะตะบะตะฝะด ัััะฝะพััะธ ะฟะพะบัััะธ ัะฝะธั ัะตััะฐะผะธ. 
  >ะะฐะฟััะบ:
  ```bash
  cd server
  npm run test
  ``` 
- [X] ะัะพะณัะฐะผะผะฐ ะดะพะปะถะฝะฐ ะพะฑัะฐะฑะฐััะฒะฐัั ะพัะธะฑะบะธ: ะฝะฐะฟัะธะผะตั, ะฝะตะฒะฐะปะธะดะฝัะต ัะพะฑััะธั ะธะปะธ ะฟะพะฟััะบะฐ ะทะฐะฟัะพัะธัั ะฝะตัััะตััะฒััััั ะฒะตััะธั.
  >ะัะต ัะพะฑััะธั ะธ ัะฝะดะฟะพะธะฝัั ะฒะฐะปะธะดะธัะพะฒะฐะฝั ั ะฟะพะผะพััั ะฑะธะฑะปะธะพัะตะบ: [class-validator](https://www.npmjs.com/package/class-validator) ะธ [class-transformer](https://www.npmjs.com/package/class-transformer)

## ะััะธัะตะบัััะฐ Frontend
ะััะธัะตะบัััะฐ ััะพะฝัะตะฝะดะฐ ัะพััะพะธั ะธะท 5 ััะพะฒะฝะตะน (0-4)

### 0 ััะพะฒะตะฝั - ะฟัะพะฒะฐะนะดะตัั (providers). 
ะัะพะฒะฐะนะดะตัั - ััะพ ะบะปะฐััั ะฑะตะท ะฑะธะทะฝะตั ะปะพะณะธะบะธ. ะัะธะผะตั ะฟัะพะฒะฐะนะดะตัะพะฒ: SocketProvider, HttpProvider. ะญัะธ ะฟัะพะฒะฐะนะดะตัั ะพะฑะตัะฟะตัะธะฒะฐัั ัะฐะฑะพัั ั ะฒะฝะตัะฝะธะผะธ ะธััะพัะฝะธะบะฐะผะธ, ะฝะพ ัะฐะผะธ ะฟะพ ัะตะฑะต ะฝะธัะตะณะพ ะฝะต ะดะตะปะฐัั.

*ะัะธะผะตั:*
```ts
class HttpProvider{
    public async get<T>(url: string){
        try{
            const response = await fetch(url);
            return await response.json() as T;
        }catch(exception){
            throw new CustomHttpProviderException(exception);
        }
    }
    // ... other methods
}
```

### 1 ััะพะฒะตะฝั - ัะตะฟะพะทะธัะพัะธะธ (repositories). 
ะะตะฟะพะทะธัะพัะธะธ - ััะพ ะบะปะฐััั ะบะพัะพััะต ะพะฑัะฐัััั ั ะฒะฝะตัะฝะธะผะธ ะธััะพัะฝะธะบะฐะผะธ. ะ ัะตะฑั ะผะพะณัั ะฒะฝะตะดัััั ะฟัะพะฒะฐะนะดะตัั ะดะปั ะพะฑะตัะฟะตัะตะฝะธั ัะฐะฑะพัั ัะตัะธ. ะะตะฟะพะทะธัะพัะธะธ ะฒัะตะณะดะฐ ะฒะพะทะฒัะฐัะฐัั ัััะฝะพััะธ.

*ะัะธะผะตั:*
```ts
class UserRepository{
    private readonly url: string = "https://api.example.com/user";
    constructor(
        private readonly httpProvider: HttpProvider
    ){}

    public async getUserList(){
        const users = await httpProvider.get(this.url);

        // ะัะพััะผ ะฟะฐัะฐะผะตััะพะผ ะฟะตัะตะดะฐะตะผ ัะตะบััะธะน ะธะฝััะฐะฝั ัะตะฟะพะทะธัะพัะธั, ะฟะพัะบะพะปัะบั ัััะฝะพััั ัะฐะบ ะถะต ะผะพะถะตั ะธัะฟะพะปัะทะพะฒะฐัั ะผะตัะพะดั ัะตะฟะพะทะธัะพัะธั.
        return users.map(user => new UserEntity(user, this));
    }

    public updateUser(id: number, data: Partial<Omit<"id", IUserEntity>>){
        const user = await this.httpProvider.patch(`${this.url}/${id}`, data):
        return new UserEntity(user, this);
    }
}
```

### 2 ััะพะฒะตะฝั - ัััะฝะพััะธ (entities). 
ะกััะฝะพััะธ - ััะพ ะผะพะดะตะปะธ ะบะพัะพััะต ะธะผะฟะปะตะผะตะฝัะธัััั ะฝะตะบะธะต ัััะฝะพััะธ, ะบะพัะพััะต ะฟะพะปััะฐัั ะธะท ะฒะฝะต. ะะฐะฟัะธะผะตั: EventEntity, UserEntity ะธ ัะด. ะกััะฝะพััะธ ะผะพะณัั ัะตัะตะท ะบะพะฝััััะบัะพั ะฒะฝะตะดัััั ะฒ ัะตะฑั ัะตะฟะพะทะธัะพัะธะธ, ะฐ ัะฐะบ ะผะพะณัั ัะตะฐะปะธะทะพะฒะฐัั ะผะตัะพะดั ะดะปั ัะฐะฑะพัั ั ะบะพะฝะบัะตัะฝะพะน ัััะฝะพัััั.

*ะัะธะผะตั:*
```ts
interface IUserEntity{
    id: number;
    name: string;
    phone: string;
    createdAt: string;
}

class UserEntity{
    public readonly id: number;
    public name: string;
    public phone: string;
    public createdAt: Date;

    private readonly userRepository: UserRepository;

    constructor(user: IUser, userRepository: UserRepository){
        this.userRepository = userRepository;
        Object.assign(this, {...user, createdAt: new Date(user.createdAt)});
    }

    public async save(){
        return await this.httpProvider.updateUser(this.id, this);
    }
}
```

### 3 ััะพะฒะตะฝั - ัะตัะฒะธัั (services).
ะกะตัะฒะธัั ัะฒะปััััั ะฑะธะทะฝะตั-ะปะพะณะธะบะพะน ะดะปั ะบะพะผะฟะพะฝะตะฝัะฐ, ะพะฑะตัะฟะตัะธะฒะฐั ะพัะดะตะปัะตะผะพััั ะฑะธะทะฝะตั-ะปะพะณะธะบะธ ะพั ะบะพะผะฟะพะฝะตะฝัะฐ ะธ ะดะตะปะฐั ะฟะพัะปะตะดะฝะตะณะพ ะผะฐะบัะธะผะฐะปัะฝะพ ััะฟัะผ ะฒ ัะพัะพัะตะผ ัะผััะปะต ััะพะณะพ ัะปะพะฒะฐ. ะกะตัะฒะธัั ะผะพะณัั ะฒะฝัััะธ ัะตะฑั ะธัะฟะพะปัะทะพะฒะฐัั ัะตะฟะพะทะธัะพัะธะธ ะธ ัััะฝะพััะธ. ะกะตัะฒะธัั ะฝะฐะฟััะผัั ัะฒัะทะฐะฝั ั ะบะพะผะฟะพะฝะตะฝัะพะผ, ะฟะพ ััะพะผั ัะพัะพัะตะน ััะธัะฐะตััั ัะพะทะดะฐะฝะธะต ัะตัะฒะธัะฐ(ะพะฒ) ััะดะพะผ ั ะบะพะผะฟะพะฝะตะฝัะพะผ.

*ะัะธะผะตั:*
```ts
class UserService{
    private readonly userRepository: UserRepository;
    private readonly users: UserEntity[];
    private readonly initialized: boolean = false;

    constructor(){
        this.userRepository = new UserRepository(new HttpProvider);
    }

    public init(){
      this.initialized = true;
    }

    public async getUserList(){
        this.users = await this.userRepository.getUserList();
        return this.users;
    }
}
```
### 4 ััะพะฒะตะฝั - ะบะพะผะฟะพะฝะตะฝัั (components).
ะะพะผะฟะพะฝะตะฝัั ะธัะฟะพะปัะทััั ะธะปะธ ะฟัะฐะฒะธะปัะฝะตะต ะฝะฐะทะฒะฐัั - ะฒะฝะตะดัััั ะฒ ัะตะฑั ัะตัะฒะธั ะธ ะฟะพะปัะทััััั ะตะณะพ ะผะตัะพะดะฐะผะธ ะดะปั ะพะฑะตัะฟะตัะตะฝะธั ะฑะธะทะฝะตั ะปะพะณะธะบะธ. ะฅะพัะพัะตะน ะฟัะฐะบัะธะบะพะน ััะธัะฐะตััั ะพัะบะฐะท ะพั ัะพะทะดะฐะฝะธั ััะฝะบัะธะน ะฒะฝัััะธ ะบะพะผะฟะพะฝะตะฝัะฐ(**ะบัะพะผะต ััะบะพะฒ**) ะธ ะธัะฟะพะปัะทะพะฒะฐะฝะธะต ัะพะปัะบะพ ะผะตัะพะดะพะฒ ัะตัะฒะธัะฐ. ะัะบะปััะตะฝะธะตะผ ัะฒะปััััั ััะฝะบัะธะธ, ะบะพัะพััะต ะดะพะปะถะฝั ะฟะพะปะพะถะธัั/ะพะฑะฝะพะฒะธัั ัะพััะพัะฝะธะต ะฟะพัะปะต ะพััะฐะฑะพัะบะธ ะผะตัะพะดะฐ ัะตัะฒะธัะฐ. ะะฐะฟัะธะผะตั ะตัะปะธ ะฒ ะฒะฐัะตะผ ะบะพะผะฟะพะฝะตะฝัะต, ะฝะตะพะฑัะพะดะธะผะพ ะพัะพะฑัะฐะทะธัั ัะฟะธัะพะบ ะฟะพะปัะทะพะฒะฐัะตะปะตะน ะธ ะฒ ะฒะฐัะตะผ ัะตัะฒะธัะต ะตััั ะผะตัะพะด `.getUsers()` ะบะพัะพััะน ะฒะพะทะฒัะฐัะฐะตั ัะฟะธัะพะบ ะฟะพะปัะทะพะฒะฐัะตะปะตะน ะธะท api, ัะพ ะฒั ะผะพะถะตัะต ัะพะทะดะฐัั ััะฝะบัะธั ะฒะฝัััะธ ะบะพะผะฟะพะฝะตะฝัะฐ, ะบะพัะพััะน ะฟะตัะฒัะผ ะดะตะปะพะผ ะฒัะทะพะฒะตั ะผะตัะพะด ัะตัะฒะธัะฐ, ะฐ ะฟะพัะพะผ ะฟะพะปะพะถะธั ะฒะพะทะฒัะฐัะฐะตะผะพะต ะทะฝะฐัะตะฝะธะต ะธะท ะผะตัะพะดะฐ ะฒ ัะพััะพัะฝะธะต.

*ะฟัะธะผะตั:*
```tsx
const UsersListComponent = () => {
    const userService = useMemo(() => new UserService, []);
    const [users, setUsers] = useState<UserEntity[]>([]);
    
    // ะัะฟะพะปัะทัะตะผ ััะบ useEffect ะฟะพัะบะพะปัะบั ะฝะตะพะฑัะพะดะธะผะพ ะฒัะฟะพะปะฝะธัั ะฝะตะบัั ะธะฝะธัะธะฐะปะธะทะฐัะธั ะฟะพัะปะต ะพััะธัะพะฒะบะธ ะบะพะผะฟะพะฝะตะฝัะฐ ะฝะฐ ะบะปะธะตะฝัะต.
    useEffect(() => {
        userService.init();
    }, [])

    // ัะพะทะดะฐะตะผ ััะฝะบัะธั, ะฟะพัะพะผั ััะพ ัะตะทัะปััะฐั ะฒัะฟะพะปะฝะตะฝะธะธ ะผะตัะพะดะฐ ัะตัะฒะธัะฐ ะฝะตะพะฑัะพะดะธะผะพ ะฟะพะปะพะถะธัั ะฒ userState
    const getUserList = async () => {
        const users = await userService.getUsers();
        setUsers(() => users);
    }

    return (
        <button onClick={getUserList}>Get user list</button>
        {users.map(user => (
            {/* ะะฐะฟััะผัั ะพะฑัะฐัะฐะตะผัั ะบ ะผะตัะพะดั ัะตัะฒะธัะฐ, ะฟะพัะบะพะปัะบั ะฒัะทะพะฒ ะผะตัะพะดะฐ ะฝะต ะฑัะดะตั ะฒัะทะฒะฐัั ัะตัะตะฝะดะตั ะบะพะผะฟะพะฝะตะฝัะฐ */}
            <span onClick={event => userService.onClickToUser(event, user)}>{user.name}</span>
        ))}
    )
}
```

### ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```bash
client
โโโ src
    โโโ ๐ app                        # ๐งญ ะกััะฐะฝะธัั ะฟัะธะปะพะถะตะฝะธั (Next.js App Router)
    โ   โโโ ๐ page
    โ   โ   โโโ ๐ page.tsx          # ๐งญ ัััะฐะฝะธัะฐ
    โ   โโโ ๐ layout.tsx            # ๐งฑ ะะฑัะธะน layout
    โ   โโโ ๐ page.tsx              # ๐ ะะปะฐะฒะฝะฐั ัััะฐะฝะธัะฐ
    โ
    โโโ ๐ components                # ๐งฉ ะะพะผะฟะพะฝะตะฝัั ะธ ะธั ะพะบััะถะตะฝะธะต
    โ   โโโ ๐ ExampleComponent/     # ๐ธ ะะฐะทะฒะฐะฝะธะต ะบะพะผะฟะพะฝะตะฝัะฐ ะฒ PascalCase
    โ       โโโ ๐ views/            # ๐ ะะฝัััะตะฝะฝะธะต ะผะธะฝะธ-ะบะพะผะฟะพะฝะตะฝัั (ัะพะปัะบะพ ะฒะฝัััะธ)
    โ       โ   โโโ ๐ ExampleView.tsx
    โ       โโโ ๐ styles/
    โ       โ   โโโ ๐ example.module.css
    โ       โโโ ๐ services/         # โ๏ธ ะะพะบะฐะปัะฝัะต ัะตัะฒะธัั ะบะพะผะฟะพะฝะตะฝัะฐ
    โ       โ   โโโ ๐ example.service.ts
    โ       โโโ ๐ ExampleComponent.tsx
    โ
    โโโ ๐ providers                 # ๐ ะัะพะฒะฐะนะดะตัั ะบะพะฝัะตะบััะฐ/ัะพััะพัะฝะธั
    โ   โโโ ๐ ExampleProvider/
    โ   โ   โโโ ๐ example.provider.ts
    โ   โ   โโโ ๐ example.context.ts  # (ะพะฟั.) React Context API
    โ   โ   โโโ ๐ index.ts
    โ   โโโ ๐ index.ts              # ๐ฆ ะะตัะบัะฟะพัั ะฒัะตั ะฟัะพะฒะฐะนะดะตัะพะฒ
    โ
    โโโ ๐ entities                  # ๐ง ะะธะทะฝะตั-ัััะฝะพััะธ ะธ ัะธะฟั
    โ   โโโ ๐ example/
    โ   โ   โโโ ๐ example.entity.ts  # ๐ก ะะพะณะธะบะฐ ัััะฝะพััะธ (ะฝะฐะฟัะธะผะตั, ะบะปะฐัั)
    โ   โ   โโโ ๐ example.types.ts   # ๐ ะขะธะฟั, ะธะฝัะตััะตะนัั
    โ   โ   โโโ ๐ index.ts
    โ   โโโ ๐ index.ts
    โ
    โโโ ๐ repositories              # ๐ ะะฐะฑะพัะฐ ั ะดะฐะฝะฝัะผะธ (API, LocalStorage, ะธ ั.ะฟ.)
    โ   โโโ ๐ example/
    โ   โ   โโโ ๐ example.repository.ts
    โ   โ   โโโ ๐ example.types.ts
    โ   โ   โโโ ๐ index.ts
    โ   โโโ ๐ index.ts
    โ
    โโโ ๐ shared                    # ๐ ะะตัะตะธัะฟะพะปัะทัะตะผัะต ััะธะปะธัั, ะบะพะฝัะธะณะธ, ะบะพะผะฟะพะฝะตะฝัั
    โ   โโโ ๐ components/           # ๐งฉ UI-ะบะพะผะฟะพะฝะตะฝัั ะพะฑัะตะณะพ ะฝะฐะทะฝะฐัะตะฝะธั
    โ   โ   โโโ ๐ Button/
    โ   โ       โโโ ๐ Button.tsx
    โ   โ       โโโ ๐ button.module.css
    โ   โโโ ๐ utils/                # ๐ ะฃัะธะปะธัั (formatDate, groupBy, ...)
    โ   โ   โโโ ๐ formatDate.ts
    โ   โโโ ๐ config/               # โ๏ธ ะะพะฝัะธะณะธ, env-ะพะฑัััะบะธ, ัะพััั
    โ   โ   โโโ ๐ api.config.ts
    โ   โโโ ๐ index.ts              # ๐ฆ ะะฑัะธะน ัะบัะฟะพัั shared
    โ
    โโโ ๐ styles                    # ๐จ ะะปะพะฑะฐะปัะฝัะต ััะธะปะธ ะธ ัะตะผั
        โโโ ๐ globals.css
        โโโ ๐ reset.css
        โโโ ๐ themes/
            โโโ ๐ dark.theme.css
```